<div class="top">
    <i class="ion-ios-close-empty" ng-click="vm.cancel()"></i>
</div>

<div class="container">
    <div class="title">
        Select Data Source
    </div>
    <div class="search-area">
        <ual-input value="vm.searchTerm.name" min-chars="3" icon="ion-ios-search-strong"></ual-input>
        <ual-data-source-label datasource-selected="vm.selected"></ual-data-source-label>
    </div>
    <div class="loading-message" ng-show="!vm.datasources || !vm.hasLoaded">Loading ...</div>
    <div class="empty-search" ng-show="vm.searchTerm.name && (vm.datasources.items | filter:vm.searchTerm | isEmpty)">No results match your search</div>
    <div class="content-list" ual-scroll ual-scroll-options="{ theme:'dark', advanced:{ updateOnContentResize: true, updateOnSelectorChange: '#resizable-container' } }" ng-if="vm.datasources" id="content-list">
        <div class="data-source-list" id="data-source-list" ng-show="vm.hasLoaded">
            <div id="resizable-container" ual-resize on-resize='vm.checkOverflow()' >
                <ual-data-source-group datasource-group="group.data" ng-repeat="group in vm.datasources.groups | orderBy : 'data.order'" ng-show="vm.shouldShow(group)" class="data-source-group">
                    <ual-data-source-item datasource-item="item" ng-repeat="item in group.items | filter:vm.searchTerm | orderBy : 'order'" ng-click="vm.toogleSelected(item)" ng-class="{'-selected': vm.isActive(item.id)}" ual-on-last-item
                      id="datasource_{{item.id}}" ng-mouseover="vm.showTooltip($event)" ng-mouseleave="vm.hideTooltip()" ng-mousemove="vm.showTooltip($event)">
                    </ual-data-source-item>
                </ual-data-source-group>
                <span id="overflow-marker"></span>
            </div>
        </div>
    </div>
</div>
<div class="buttons">
    <ual-button class="-primary" ng-disabled="!vm.hasChange()" ng-click="vm.apply()">Apply</ual-button>
</div>
