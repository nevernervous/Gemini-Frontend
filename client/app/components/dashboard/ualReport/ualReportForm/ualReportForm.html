<div class="dashboard-header">
  <div class="name">
    <ual-input id="report-name" class="name-input" ng-class="{'-noborder': !(vm.name.hover || vm.name.focus)}" placeholder="Enter report name"
               ng-mouseover="vm.hoverName()" ng-mouseleave="vm.leaveName()"
               on-focus="vm.focusName()" on-blur="vm.blurName()" value="vm.name.current"></ual-input>
  </div>
  <div class="buttons-group">
    <ual-button class="save-button -secondary" ng-disabled="!vm.report.datasource.get()"
    ng-click="vm.save()">Save</ual-button>
    <ual-button class="copy-button -secondary" ng-disabled="true">Create a copy</ual-button>
  </div>
</div>
<div class="dashboard-body">
  <ual-accordion-group active="report-datasource">
    <ual-accordion id="report-datasource" ng-disabled="false">
      <ual-accordion-title>Data source:
        <strong>{{ vm.report.datasource.get() ? vm.report.datasource.get().name : 'No data source' }}</strong>
        <small>{{ vm.report.datasource.get() ? (vm.report.datasource.get().refreshDate | date:'MM/dd/yy HH:mm':'-0500') + ' CT' : 'selected' }}</small></ual-accordion-title>
      <ual-accordion-content>
        <ual-data-source>
        </ual-data-source>
      </ual-accordion-content>
    </ual-accordion>
    <ual-accordion id="report-variables" ng-disabled="!vm.report.datasource.get()">
      <ual-accordion-title>Variables:
        <strong ng-show="vm.variables.aggregators.length==0 && vm.variables.selected.length==0">No variables and no aggregators</strong>
        <strong ng-show="vm.variables.aggregators.length>0 || vm.variables.selected.length>0">
          {{vm.variables.aggregators.length}} aggregators  and {{vm.variables.selected.length}} variables
        </strong>
        <small>selected</small>
      </ual-accordion-title>
      <ual-accordion-content>
        <ual-variables-layout class="ual-variables-layout" variables="vm.variables.available" selecteds="vm.variables.selected" aggregators="vm.variables.aggregators"></ual-variables-layout>
      </ual-accordion-content>
    </ual-accordion>
    <ual-accordion id="report-filters" ng-disabled="!vm.report.datasource.get()">
      <ual-accordion-title>Filters: <strong>No filters</strong><small>selected</small></ual-accordion-title>
      <ual-accordion-content>Filters Body</ual-accordion-content>
    </ual-accordion>
  </ual-accordion-group>
</div>
<div class="dashboard-footer">
  <ual-button class="run-button -primary" ng-disabled="true">Run report</ual-button>
</div>
