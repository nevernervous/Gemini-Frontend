<div class="autocomplete-container" ng-class="{ show: vm.isVisible }">
  <div class="autocomplete-display" id="thisDropdown">
    <ual-input ual-id="selected-input" class="search-box"
               value="vm.getText(vm.selected)"
               placeholder="{{vm.placeholder || 'Selected'}}"
               icon="ion-ios-search-strong"
               ng-if="!vm.isVisible && !vm.inputHovered"
               ng-mouseover="vm.inputHovered = true"></ual-input>
    <ual-input ual-id="selected-searchbox"
               class="search-box"
               value="vm.filterName.name"
               min-chars="2"
               icon="ion-ios-search-strong"
               ng-if="vm.isVisible || vm.inputHovered"
               placeholder="{{ !vm.selected ? (vm.placeholder || 'Selected') : vm.getText(vm.selected)}}"
               on-focus="vm.show()"
               ng-mouseleave="!vm.visible && (vm.inputHovered = false)" ></ual-input>
    <div class="float-container" click-outside="vm.hide()" outside-if-not="thisDropdown, selected-searchbox, accordion-collapse">
      <span class="autocomplete-list">
          <div class="list-options" >
            <div class="autocomplete-item" ng-click="vm.select($event, item)" ng-repeat="item in filteredItems = (vm.list | limitTo:vm.limit | filter:vm.filterName)" >
                {{vm.getText(item)}}
            </div>
            <div class="-empty-result" ng-if="vm.list.length && !filteredItems.length">
              No results found
            </div>
            <div class="-empty-result" ng-if="!vm.list.length">
              No variables avaiable
            </div>
          </div>
        </span>
    </div>
  </div>
  <ng-transclude>

  </ng-transclude>
</div>
